<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal example1</title>
    <!--jquery-->
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script src="../modal/js/jquery.validate.min.js"></script>
    <!--font Awesome-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <!--stylesheet-->
    <link rel="stylesheet" href="../modal/css/reset.css">
</head>
<style>
    #modal_bg { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 35%); z-index: 1; }
    fieldset { border: none; }
    #modal_click { text-align: center; margin-top: 100px; }
    #modal_click button { border: none; background-color: powderblue; padding: 10px 20px; border-radius: 20px; font-size: 22px; color: #ffff; cursor: pointer; }
    #modal_box { display: none; z-index: 10; }
    .t_right { text-align: right; }
    .login_form { position: absolute; width: 20%; left: 50%; top: 50%; transform: translate(-50%, -50%); padding: 40px; border: 1px solid #ddd; background-color: white; z-index: 20; border-radius: 6px; box-shadow: 0 5px 15px rgba(0,0,0,.5); -webkit-transition: all 0.5s ease-in-out; }
    .login_form p { position: relative; width: 100%; height: 50px; margin-bottom: 40px;}
    .login_form input { height: 50px; line-height: 50px; }
    .login_form p:last-child { margin-bottom: 0; }
    .login_form p .button { width: 100%; height: 50px; line-height: 50px; cursor: pointer; font-size: 20px; color: white; font-weight: 600; background-color: powderblue; }
    .login_form span.error { color:tomato;  width:100%; position: absolute; bottom: -20px; z-index: 10; font-size: 12px; padding: 0 20px; box-sizing: border-box; }
    .login_form .modal_close i { position: absolute; top: 10px; right: 10px; color: powderblue; font-size: 22px; }
</style>
<body>
    <div id="modal_click"><button>click</button></div>

    <div id="modal_bg"></div>
    <div id="modal_box">
        <form class="login_form" action="#" method="POST" novalidate>
            <a href="javascript:;" class="modal_close"><i class="far fa-times-circle t_right"></i></a>

			<fieldset>
				<p>
					<label for="name" class="text_hidden">이름</label>
					<input type="text" id="name" name="name" placeholder="이름" required="required">
				</p>

				<p>
					<label for="email" class="text_hidden">이메일</label>
					<input type="email" id="email" name="email" placeholder="이메일" required="required">
				</p>
				
				<p>
					<label for="url" class="text_hidden">URL</label>
					<input type="url" id="url" name="url"  placeholder="URL" required="required">
				</p>

				<p>
					<input type="submit" value ="보내기" class="button">
				</p>
			</fieldset>
		</form>	
    </div>
</body>
<script>
    $(document).ready( function(){
        $('#modal_click,#modal_bg,.modal_close i').click( function(){
            $('#modal_bg, #modal_box').toggle();
            // if($('#modal_box').is(':visible') == true) {
            //     alert('eree');
            // }
        });

        $(".login_form").validate({
            //규칙
            rules:{
                name:{
                    required : true, //필수입력여부
                    minlength : 2 	//최소 입력 글자수
                },
                email:{
                    required : true, //필수입력여부
                    email : true 	//이메일형식
                },
                url:{
                    required : false, //필수입력여부 아닌것이 false
                    url : true 	//url형식
                }
            },

            //메시지
            messages:{
                name:{
                    required : "이름은 필수 입력입니다.",
                    minlength : "최소 2글자 이상 입력해주세요."
                },
                email: {
                    required : "이메일은 필수 입력입니다.",
                    email : "이메일 형식을 지켜주세요." 
                },
                url:{
                    required : "url은 필수입력이 아닙니다.",
                    url : "url 형식을 지켜주세요." 
                }
            },

            //메시지 태그
            errorElement : 'span', 	//태그
            errorClass: 'error',	//클레스 이름
            validClass:'vaild' 
        });
    });
</script>
</html>